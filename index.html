<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Customize Your Envelope</title>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://pitchprint.io/rsc/js/client.js"></script>
  <style>
    .btn { padding: 12px 20px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer; }
    .hidden { display: none; }
    .container { max-width: 800px; margin: 40px auto; font-family: sans-serif; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Customize Your Envelope</h1>

    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð´Ð»Ñ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð° -->
    <p>
      <a href="https://drive.google.com/uc?export=download&id=1sBujdS-0kWL3rzA3uoHKYi66VCKUAsSK" class="btn" target="_blank">
        ðŸ“¥ Download CSV Template
      </a>
    </p>

    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°Ð¿ÑƒÑÐºÐ° Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ð° -->
    <button class="btn" id="launch_btn" disabled>Open Editor</button>

    <!-- Ð›Ð¾Ð°Ð´ÐµÑ€ Ð¸ Ð¿Ñ€ÐµÐ²ÑŒÑŽ -->
    <div id="pp_loader_div">Loading PitchPrint...</div>
    <div id="pp_preview_div" class="mt-4"></div>
  </div>

  <script>
    const _launchButton = document.getElementById('launch_btn');
    const _previewDiv = document.getElementById('pp_preview_div');
    const _loaderDiv = document.getElementById('pp_loader_div');

    const ppclient = new PitchPrintClient({
      apiKey: 'key_30f5980013fbc8f44c3bf75a89ece068',
      designId: 'defc64a17de41a7e03fbfddfa23e1463bc',
      custom: true,
      isvx: true
    });

    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ, ÐºÐ¾Ð³Ð´Ð° Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ Ð³Ð¾Ñ‚Ð¾Ð²
    ppclient.on('app-validated', () => {
      _launchButton.removeAttribute('disabled');
      _launchButton.onclick = () => ppclient.showApp();
      _loaderDiv.classList.add('hidden');
    });

    // Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ, ÐºÐ¾Ð³Ð´Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½
    ppclient.on('project-saved', (_val) => {
      const _data = _val.data;
      if (_data?.previews?.length) {
        _previewDiv.innerHTML = _data.previews.map(
          (img) => `<img src="${img}" style="max-width:100%;margin:10px 0;" />`
        ).join('');
      }
    });
  </script>
</body>
</html>
